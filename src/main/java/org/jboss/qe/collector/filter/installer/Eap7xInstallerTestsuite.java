package org.jboss.qe.collector.filter.installer;

import org.jboss.qe.collector.Colour;
import org.jboss.qe.collector.FailedTest;
import org.jboss.qe.collector.filter.AbstractFilter;
import org.jboss.qe.collector.filter.FilterItem;

/**
 * @author Petr Kremensky pkremens@redhat.com on 10/08/2015
 */
public class Eap7xInstallerTestsuite extends AbstractFilter {

   public Eap7xInstallerTestsuite() {
   }

   private static final String JIRA_JBOSS_ISSUE = "https://issues.jboss.org/browse/";
   private static final FilterItem[] FILTER_ITEMS = {
       // https://issues.jboss.org/browse/JBEAP-2840 - Remove the logs of post installation tasks (Windows)
       new FilterItem(Colour.YELLOW).addUrl(".*windows.*").setErrorText(JIRA_JBOSS_ISSUE +
           "JBEAP-2840 - Remove the logs of post installation tasks (Windows)")
           .addTest(".*.gui.tests.issues.PostCleanupTestCase#postInstallationCleanup"),

       // https://issues.jboss.org/browse/JBEAP-4219 - Shortcuts are not generated by automatic installation script installation
       new FilterItem(Colour.YELLOW).addUrl(".*console.*").setErrorText(JIRA_JBOSS_ISSUE +
           "4219 - Shortcuts are not generated by automatic installation script installation")
           .addTest(".*.auto.ShortcutsTestCase#shortcutsTest"),
   };

   public String filter(FailedTest failedTest) {
      return coreFilter(failedTest, FILTER_ITEMS);
   }
}
